(()=>{var e={};e.id=326,e.ids=[326],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},29999:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(83021),t(14552),t(15495),t(35866);var r=t(23191),n=t(88716),a=t(37922),o=t.n(a),l=t(95231),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);t.d(s,i);let c=["",{children:["assessment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,83021)),"C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\assessment\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,14552)),"C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\assessment\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,15495)),"C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\assessment\\page.tsx"],u="/assessment/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/assessment/page",pathname:"/assessment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},23745:(e,s,t)=>{Promise.resolve().then(t.bind(t,67549))},95644:(e,s,t)=>{Promise.resolve().then(t.bind(t,27345))},35047:(e,s,t)=>{"use strict";var r=t(77389);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},67549:(e,s,t)=>{"use strict";t.d(s,{AssessmentWizard:()=>d});var r=t(10326);t(17577);var n=t(27345);function a({question:e,value:s}){let{setResponse:t}=(0,n.Y)(),a=s=>{t(e.id,s)};return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:e.category}),e.isCritical&&r.jsx("span",{className:"inline-block bg-red-100 text-red-800 text-xs font-medium px-2 py-1 rounded-full",children:"Critical"})]}),(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:[e.question,e.required&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.helpText&&(0,r.jsxs)("p",{className:"text-gray-600 text-sm bg-blue-50 p-3 rounded-lg",children:["\uD83D\uDCA1 ",e.helpText]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:["boolean"===e.type&&(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx("button",{onClick:()=>a(!0),className:`p-4 rounded-lg border-2 transition-all ${!0===s?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[r.jsx("span",{className:"text-2xl mr-2",children:"✅"}),r.jsx("span",{className:"font-medium",children:"Yes"})]})}),r.jsx("button",{onClick:()=>a(!1),className:`p-4 rounded-lg border-2 transition-all ${!1===s?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[r.jsx("span",{className:"text-2xl mr-2",children:"❌"}),r.jsx("span",{className:"font-medium",children:"No"})]})})]}),"select"===e.type&&e.options&&r.jsx("div",{className:"space-y-3",children:e.options.map(e=>r.jsx("button",{onClick:()=>a(e),className:`w-full p-4 text-left rounded-lg border-2 transition-all ${s===e?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:`w-4 h-4 rounded-full border-2 mr-3 ${s===e?"bg-blue-500 border-blue-500":"border-gray-300"}`,children:s===e&&r.jsx("div",{className:"w-2 h-2 bg-white rounded-full mx-auto mt-0.5"})}),r.jsx("span",{className:"font-medium",children:e})]})},e))}),"number"===e.type&&(0,r.jsxs)("div",{children:[r.jsx("input",{type:"number",value:s||"",onChange:e=>a(e.target.value),placeholder:"Enter amount...",className:"w-full p-4 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none text-lg"}),e.id.includes("revenue")&&r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Enter your annual revenue in dollars (e.g., 250000 for $250,000)"})]}),"text"===e.type&&r.jsx("textarea",{value:s||"",onChange:e=>a(e.target.value),placeholder:"Enter your answer...",rows:4,className:"w-full p-4 border-2 border-gray-200 rounded-lg focus:border-blue-500 focus:outline-none"})]}),void 0!==s&&(0,r.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your answer:"}),r.jsx("p",{className:"font-medium text-gray-900",children:"boolean"==typeof s?s?"Yes":"No":s})]})]})}function o({currentStep:e,totalSteps:s,score:t}){let n=s>0?(e+1)/s*100:0;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assessment Progress"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Question ",e+1," of ",s]})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t}),r.jsx("p",{className:"text-sm text-gray-600",children:"Current Score"})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${n}%`}})}),(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:[Math.round(n),"% Complete"]}),(0,r.jsxs)("span",{children:[s-e-1," questions remaining"]})]})]})}var l=t(35047);function i({currentStep:e,totalSteps:s,canGoNext:t,isComplete:a}){let{nextStep:o,prevStep:i,completeAssessment:c,state:d}=(0,n.Y)(),u=(0,l.useRouter)(),m=async()=>{await c(),u.push("/assessment/results")},p=e===s-1,x=0===e;return(0,r.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("button",{onClick:i,disabled:x,className:`px-6 py-3 rounded-lg font-medium transition-all ${x?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"← Previous"}),r.jsx("div",{className:"flex items-center space-x-2",children:Array.from({length:s},(s,t)=>r.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${t<=e?"bg-blue-500":"bg-gray-300"}`},t))}),r.jsx("button",{onClick:()=>{e<s-1?o():m()},disabled:!t||d.loading,className:`px-6 py-3 rounded-lg font-medium transition-all ${!t||d.loading?"bg-gray-100 text-gray-400 cursor-not-allowed":p?"bg-green-600 text-white hover:bg-green-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:d.loading?(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):p?"Complete Assessment →":"Next →"})]}),r.jsx("div",{className:"mt-4 text-center",children:(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[!t&&"Please answer the question to continue",t&&!p&&"Click Next to continue or Previous to go back",t&&p&&"Ready to complete your assessment!"]})})]})}function c({currentScore:e,categoryScores:s,completedQuestions:t,totalQuestions:n}){let a=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600";return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 sticky top-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Live Score Tracker"}),(0,r.jsxs)("div",{className:`text-center p-4 rounded-lg mb-6 ${e>=80?"bg-green-100":e>=60?"bg-yellow-100":e>=40?"bg-orange-100":"bg-red-100"}`,children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Fundability Score"}),r.jsx("p",{className:`text-3xl font-bold ${a(e)}`,children:e}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Based on ",t," of ",n," questions"]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:"Category Scores"}),Object.entries(s).map(([e,s])=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700 truncate",children:e}),r.jsx("span",{className:`text-sm font-bold ${a(s)}`,children:Math.round(s)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${Math.min(s,100)}%`}})})]},e)),0===Object.keys(s).length&&r.jsx("p",{className:"text-sm text-gray-500 italic",children:"Start answering questions to see category breakdowns"})]}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[r.jsx("h5",{className:"text-sm font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 Quick Tips"}),(0,r.jsxs)("ul",{className:"text-xs text-blue-800 space-y-1",children:[r.jsx("li",{children:"• Answer all questions for accurate scoring"}),r.jsx("li",{children:"• Critical questions have higher impact"}),r.jsx("li",{children:"• You can go back to change answers"})]})]})]})}function d(){let{state:e,dispatch:s}=(0,n.Y)();if(0===e.questions.length)return r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});let t=e.questions[e.currentStep];return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Business Fundability Assessment"}),r.jsx("p",{className:"text-gray-600",children:"Answer questions about your business to get your comprehensive fundability score"})]}),r.jsx(o,{currentStep:e.currentStep,totalSteps:e.totalSteps,score:e.currentScore}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[(0,r.jsxs)("div",{className:"lg:col-span-2",children:[r.jsx(a,{question:t,value:e.responses[t.id],onChange:e=>{}}),r.jsx(i,{currentStep:e.currentStep,totalSteps:e.totalSteps,canGoNext:void 0!==e.responses[t.id],isComplete:e.isComplete})]}),r.jsx("div",{className:"lg:col-span-1",children:r.jsx(c,{currentScore:e.currentScore,categoryScores:e.categoryScores,completedQuestions:Object.keys(e.responses).length,totalQuestions:e.totalSteps})})]})]})}},27345:(e,s,t)=>{"use strict";t.d(s,{AssessmentProvider:()=>c,Y:()=>d});var r=t(10326),n=t(63292),a=t(17577);let o={currentStep:0,totalSteps:0,responses:{},currentScore:0,categoryScores:{},isComplete:!1,questions:[],loading:!1,error:null};function l(e,s){switch(s.type){case"INITIALIZE":return{...e,questions:s.questions,totalSteps:s.questions.length,currentStep:0,responses:{},currentScore:0,categoryScores:{},isComplete:!1};case"SET_RESPONSE":return{...e,responses:{...e.responses,[s.questionId]:s.value}};case"NEXT_STEP":return{...e,currentStep:Math.min(e.currentStep+1,e.totalSteps-1)};case"PREV_STEP":return{...e,currentStep:Math.max(e.currentStep-1,0)};case"SET_STEP":return{...e,currentStep:Math.max(0,Math.min(s.step,e.totalSteps-1))};case"UPDATE_SCORE":return{...e,currentScore:s.score,categoryScores:s.categoryScores};case"COMPLETE_ASSESSMENT":return{...e,isComplete:!0};case"RESET_ASSESSMENT":return{...o,questions:e.questions,totalSteps:e.questions.length};case"SET_LOADING":return{...e,loading:s.loading};case"SET_ERROR":return{...e,error:s.error};default:return e}}let i=(0,a.createContext)(void 0);function c({children:e}){let[s,t]=(0,a.useReducer)(l,o),c=()=>{let e=Object.entries(s.responses).map(([e,t])=>{let r=s.questions.find(s=>s.id===e);return r?{category:r.category,criterionId:r.id,criterionName:r.question,responseValue:t,responseType:r.type,pointsEarned:function(e,s){switch(e.type){case"boolean":return!0===s?100:0;case"select":return({Excellent:100,"Very Good":85,Good:70,Fair:55,Poor:25,Yes:100,No:0,Corporation:100,LLC:85,Partnership:60,"Sole Proprietorship":40})[s]||0;case"number":if(e.id.includes("revenue")){let e=parseFloat(s)||0;if(e>=1e6)return 100;if(e>=5e5)return 85;if(e>=25e4)return 70;if(e>=1e5)return 55;if(e>=5e4)return 40;return 25}if(e.id.includes("years")||e.id.includes("time")){let e=parseFloat(s)||0;if(e>=5)return 100;if(e>=3)return 80;if(e>=2)return 60;if(e>=1)return 40;return 20}return s>0?75:0;case"text":return s&&s.trim()?80:0;default:return 0}}(r,t),pointsPossible:100,weightFactor:r.weight,isCritical:r.isCritical}:null}).filter(Boolean),r=e.reduce((e,s)=>e+s.pointsEarned,0),n=100*e.length,a={};Object.entries(e.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{})).forEach(([e,s])=>{let t=s.reduce((e,s)=>e+s.pointsEarned,0),r=100*s.length;a[e]=r>0?t/r*100:0}),t({type:"UPDATE_SCORE",score:Math.round(n>0?r/n*100:0),categoryScores:a})},d=async()=>{try{t({type:"SET_LOADING",loading:!0}),t({type:"COMPLETE_ASSESSMENT"}),t({type:"SET_LOADING",loading:!1})}catch(e){t({type:"SET_ERROR",error:e instanceof Error?e.message:"Unknown error"}),t({type:"SET_LOADING",loading:!1})}},u=async()=>{try{console.log("\uD83D\uDCBE Saving assessment and updating dashboard..."),t({type:"SET_LOADING",loading:!0});let e={responses:s.responses,currentScore:s.currentScore,categoryScores:s.categoryScores,completedAt:new Date().toISOString(),questions:s.questions};localStorage.setItem("lastAssessmentResults",JSON.stringify(e)),console.log("✅ Saved to localStorage:",e);try{let{data:e}=await n.KD.getCurrentUserProfile();e&&(console.log("\uD83D\uDC64 Updating user profile..."),await n.KD.updateFundabilityScore(e.id,s.currentScore),await n.KD.incrementAssessmentCount(e.id),console.log("✅ Database updated successfully"))}catch(e){console.warn("⚠️ Database update failed, but localStorage saved:",e)}return console.log("\uD83D\uDD14 Triggering dashboard refresh..."),window.dispatchEvent(new CustomEvent("dashboardRefresh")),setTimeout(()=>{window.dispatchEvent(new CustomEvent("dashboardRefresh"))},100),window.dispatchEvent(new StorageEvent("storage",{key:"lastAssessmentResults",newValue:JSON.stringify(e)})),t({type:"SET_LOADING",loading:!1}),!0}catch(e){return console.error("❌ Error saving assessment:",e),t({type:"SET_LOADING",loading:!1}),!1}};return r.jsx(i.Provider,{value:{state:s,dispatch:t,setResponse:(e,s)=>{t({type:"SET_RESPONSE",questionId:e,value:s}),setTimeout(()=>c(),100)},nextStep:()=>{t({type:"NEXT_STEP"})},prevStep:()=>{t({type:"PREV_STEP"})},goToStep:e=>{t({type:"SET_STEP",step:e})},calculateScore:c,completeAssessment:d,resetAssessment:()=>{t({type:"RESET_ASSESSMENT"})},saveAndUpdateDashboard:u,getReportData:()=>({responses:s.responses,currentScore:s.currentScore,categoryScores:s.categoryScores,questions:s.questions,completedQuestions:Object.keys(s.responses).length})},children:e})}function d(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAssessment must be used within an AssessmentProvider");return e}},14552:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(19510),n=t(68570);let a=(0,n.createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\contexts\AssessmentContext.tsx#AssessmentProvider`);function o({children:e}){return r.jsx(a,{children:e})}(0,n.createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\contexts\AssessmentContext.tsx#useAssessment`)},83021:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(19510);let n=(0,t(68570).createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\components\assessment\AssessmentWizard.tsx#AssessmentWizard`);function a(){return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx(n,{})})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,819,997,929],()=>t(29999));module.exports=r})();