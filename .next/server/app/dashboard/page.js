(()=>{var e={};e.id=702,e.ids=[702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},37283:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),t(30658),t(15495),t(35866);var r=t(23191),a=t(88716),n=t(37922),l=t.n(n),o=t(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(s,i);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,30658)),"C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,15495)),"C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\dashboard\\page.tsx"],u="/dashboard/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},64176:(e,s,t)=>{Promise.resolve().then(t.bind(t,20976))},20976:(e,s,t)=>{"use strict";t.d(s,{DashboardOverview:()=>i});var r=t(10326);t(17577);var a=t(67025),n=t(16503);function l({assessments:e,loading:s}){return s?r.jsx("div",{className:"animate-pulse space-y-3",children:[1,2,3].map(e=>r.jsx("div",{className:"h-4 bg-gray-200 rounded"},e))}):e&&0!==e.length?(0,r.jsxs)("div",{className:"space-y-4",children:[e.slice(0,5).map((s,t)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"font-medium",children:["Assessment #",e.length-t]}),r.jsx("p",{className:"text-sm text-gray-600",children:new Date(s.created_at).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"text-lg font-bold text-blue-600",children:s.overall_score}),r.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]})]},s.id)),e.length>5&&(0,r.jsxs)("button",{className:"w-full text-blue-600 text-sm hover:text-blue-800",children:["View all ",e.length," assessments"]})]}):(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("p",{children:"No assessment history yet"}),r.jsx("p",{className:"text-sm mt-2",children:"Take your first assessment to see your progress here"})]})}function o({title:e,value:s,change:t,icon:a}){return r.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s}),void 0!==t&&(0,r.jsxs)("p",{className:`text-sm ${t>=0?"text-green-600":"text-red-600"}`,children:[t>=0?"+":"",t]})]}),a&&r.jsx("div",{className:"text-2xl",children:a})]})})}function i(){let{userProfile:e,latestAssessment:s,stats:t,loading:i,error:c,refresh:u}=(0,a.r)();return i?r.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):c?(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-red-800 font-semibold",children:"Error Loading Dashboard"}),r.jsx("p",{className:"text-red-600 mt-2",children:c}),r.jsx("button",{onClick:u,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Try Again"})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-lg",children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold",children:["Welcome back, ",e?.name||"User","!"]}),r.jsx("p",{className:"mt-2 opacity-90",children:e?.business_name?`Managing ${e.business_name}`:"Track your business fundability progress"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(o,{title:"Current Score",value:t.currentScore,change:t.scoreChange,icon:"\uD83D\uDCCA"}),r.jsx(o,{title:"Total Assessments",value:t.totalAssessments,icon:"\uD83D\uDCCB"}),r.jsx(o,{title:"Last Assessment",value:t.lastAssessmentDate?new Date(t.lastAssessmentDate).toLocaleDateString():"Never",icon:"\uD83D\uDCC5"}),r.jsx(o,{title:"Fundability Grade",value:d(t.currentScore),icon:"\uD83C\uDF93"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Fundability Score"}),r.jsx(n.c,{score:t.currentScore,size:200}),(0,r.jsxs)("div",{className:"mt-4 text-center",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.currentScore}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Grade: ",d(t.currentScore)]})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Assessment History"}),r.jsx(l,{assessments:[],loading:i})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),(0,r.jsxs)("div",{className:"text-gray-500 text-center py-8",children:[r.jsx("p",{children:"Activity tracking coming soon..."}),r.jsx("p",{className:"text-sm mt-2",children:"We'll show your recent assessments, score changes, and recommendations here."})]})]}),(0,r.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("button",{onClick:()=>window.location.href="/assessment",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Take New Assessment"}),r.jsx("button",{className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"View Recommendations"}),r.jsx("button",{onClick:()=>window.print(),className:"bg-purple-600 text-white px-6 py-3 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Download Report"})]})]})]})}function d(e){return e>=90?"A - Excellent":e>=80?"B - Good":e>=70?"C - Fair":e>=60?"D - Poor":"F - Very Poor"}},16503:(e,s,t)=>{"use strict";t.d(s,{c:()=>a});var r=t(10326);function a({score:e,maxScore:s=100,size:t=200}){let a=Math.min(e/s*100,100),n=2*Math.PI*45;return r.jsx("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative",style:{width:t,height:t},children:[(0,r.jsxs)("svg",{className:"transform -rotate-90",width:t,height:t,viewBox:"0 0 100 100",children:[r.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:"#e5e7eb",strokeWidth:"8",fill:"transparent"}),r.jsx("circle",{cx:"50",cy:"50",r:"45",stroke:e>=80?"#10b981":e>=60?"#f59e0b":e>=40?"#f97316":"#ef4444",strokeWidth:"8",fill:"transparent",strokeDasharray:n,strokeDashoffset:n-a/100*n,strokeLinecap:"round",className:"transition-all duration-1000 ease-in-out"})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:e}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["/ ",s]})]})})]})})}t(17577)},67025:(e,s,t)=>{"use strict";t.d(s,{r:()=>n});var r=t(17577),a=t(63292);function n(){let[e,s]=(0,r.useState)({userProfile:null,latestAssessment:null,assessmentHistory:[],scoreTrend:[],loading:!0,error:null,stats:{totalAssessments:0,currentScore:0,scoreChange:0,lastAssessmentDate:null}}),t=async()=>{try{console.log("\uD83D\uDCCA Loading dashboard data..."),s(e=>({...e,loading:!0,error:null}));let e=null,t=null,{data:r,error:n}=await a.KD.getCurrentUserProfile();if(r&&!n){console.log("✅ Got real user profile:",r),e=r;let{data:s}=await a.WB.getLatestAssessment(e.id);s&&(console.log("✅ Got real assessment data:",s),t=s)}if(!e||!t){let s=localStorage.getItem("lastAssessmentResults");if(s)try{let r=JSON.parse(s);console.log("\uD83D\uDCF1 Using localStorage data:",r),e=e||{id:"demo-user",email:"demo@ybwfunds.com",name:"Demo User",business_name:"Demo Business",fundability_score:r.currentScore,assessment_count:1,last_assessment_date:r.completedAt,created_at:new Date().toISOString(),updated_at:r.completedAt},t={id:"local-assessment",user_id:e.id,overall_score:r.currentScore,category_scores:r.categoryScores,completion_percentage:100,status:"completed",assessment_version:"2.0",created_at:r.completedAt,updated_at:r.completedAt}}catch(e){console.error("Error parsing localStorage data:",e)}}if(!e||!t){console.log("\uD83D\uDD04 Using fallback assessment service...");let s=await a.UI.getLatestAssessment("demo-user");s&&(e=e||{id:"demo-user",email:"demo@ybwfunds.com",name:"Demo User",business_name:"Demo Business",fundability_score:s.overall_score,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},t={...s,updated_at:s.created_at||new Date().toISOString()})}let l=t?.overall_score||0,o=t?.created_at||null;console.log("\uD83D\uDCC8 Final dashboard data:",{currentScore:l,lastAssessmentDate:o}),s({userProfile:e,latestAssessment:t,assessmentHistory:t?[t]:[],scoreTrend:[],loading:!1,error:null,stats:{totalAssessments:1,currentScore:l,scoreChange:0,lastAssessmentDate:o}})}catch(e){console.error("❌ Error loading dashboard data:",e),s(e=>({...e,loading:!1,error:"Unable to load dashboard data"}))}};return{...e,refresh:()=>{console.log("\uD83D\uDD04 Manual refresh triggered"),t()}}}},30658:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(19510);let a=(0,t(68570).createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\components\dashboard\DashboardOverview.tsx#DashboardOverview`);function n(){return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsx(a,{})})})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[276,819,997,929],()=>t(37283));module.exports=r})();