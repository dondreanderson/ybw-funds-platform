(()=>{var e={};e.id=461,e.ids=[461],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},89133:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>g,tree:()=>u}),r(58435),r(15495),r(35866);var s=r(23191),n=r(88716),o=r(37922),a=r.n(o),i=r(95231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let u=["",{children:["onboarding",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,58435)),"C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\onboarding\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,15495)),"C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\onboarding\\page.tsx"],c="/onboarding/page",p={require:r,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/onboarding/page",pathname:"/onboarding",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},73143:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},14464:(e,t,r)=>{Promise.resolve().then(r.bind(r,42126)),Promise.resolve().then(r.bind(r,27345))},459:(e,t,r)=>{Promise.resolve().then(r.bind(r,26081))},35047:(e,t,r)=>{"use strict";var s=r(77389);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},26081:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(10326),n=r(17577),o=r(35047);function a(){let e=(0,o.useRouter)(),[t,r]=(0,n.useState)(0),[a,i]=(0,n.useState)({industry:"",businessSize:"",fundingGoal:"",fundingTimeline:"",location:"",currentRevenue:""}),l=[{title:"Tell us about your business",subtitle:"Help us personalize your experience",fields:[{key:"industry",label:"What industry are you in?",type:"select",options:["","Technology","Retail","Healthcare","Manufacturing","Professional Services","Construction","Food & Beverage","Transportation","Real Estate","Other"]},{key:"businessSize",label:"How many employees do you have?",type:"select",options:["","Just me (1)","Small team (2-10)","Medium (11-50)","Large (51-200)","Enterprise (200+)"]}]},{title:"Your funding goals",subtitle:"What are you looking to achieve?",fields:[{key:"fundingGoal",label:"What's your primary funding goal?",type:"select",options:["","Working Capital","Equipment Purchase","Business Expansion","Inventory Financing","Real Estate","Debt Consolidation","Marketing & Growth","Other"]},{key:"fundingTimeline",label:"When do you need funding?",type:"select",options:["","ASAP (within 30 days)","Within 3 months","Within 6 months","Within 1 year","Just exploring options"]}]},{title:"Business details",subtitle:"A few more details to complete your profile",fields:[{key:"location",label:"Where is your business located?",type:"select",options:["","United States","Canada","United Kingdom","Australia","Other"]},{key:"currentRevenue",label:"What's your approximate annual revenue?",type:"select",options:["","Pre-revenue","Less than $50K","$50K - $100K","$100K - $250K","$250K - $500K","$500K - $1M","$1M - $5M","$5M+"]}]}],u=l[t],d=()=>{let t={...JSON.parse(localStorage.getItem("currentUser")||"{}"),onboardingData:a,onboardingCompleted:!0,profileCompleteness:65};localStorage.setItem("currentUser",JSON.stringify(t)),e.push("/dashboard")},c=(e,t)=>{i(r=>({...r,[e]:t}))};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[(0,s.jsxs)("div",{className:"p-6 border-b",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome to YBW Funds! \uD83C\uDF89"}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["Step ",t+1," of ",l.length]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${(t+1)/l.length*100}%`}})})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:u.title}),s.jsx("p",{className:"text-gray-600",children:u.subtitle})]}),s.jsx("div",{className:"space-y-6",children:u.fields.map(e=>(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.label}),s.jsx("select",{value:a[e.key],onChange:t=>c(e.key,t.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:e.options.map(e=>s.jsx("option",{value:e,children:e||"Select an option..."},e))})]},e.key))})]}),s.jsx("div",{className:"p-6 border-t bg-gray-50 rounded-b-lg",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("button",{onClick:()=>{t>0&&r(t-1)},disabled:0===t,className:"px-6 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("button",{onClick:()=>{t<l.length-1?r(t+1):d()},disabled:!u.fields.every(e=>a[e.key]),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:t===l.length-1?"Complete Setup":"Next"})]})})]})})}function i(){return s.jsx(a,{})}},42126:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(10326),n=r(77109),o=r(27345);function a({children:e}){return s.jsx(n.SessionProvider,{children:s.jsx(o.AssessmentProvider,{children:e})})}},27345:(e,t,r)=>{"use strict";r.d(t,{AssessmentProvider:()=>l,Y:()=>u});var s=r(10326),n=r(17577);let o={currentStep:0,totalSteps:0,responses:{},currentScore:0,categoryScores:{},isComplete:!1,questions:[],loading:!1,error:null};function a(e,t){switch(t.type){case"INITIALIZE":return{...e,questions:t.questions,totalSteps:t.questions.length,currentStep:0,responses:{},currentScore:0,categoryScores:{},isComplete:!1};case"SET_RESPONSE":return{...e,responses:{...e.responses,[t.questionId]:t.value}};case"NEXT_STEP":return{...e,currentStep:Math.min(e.currentStep+1,e.totalSteps-1)};case"PREV_STEP":return{...e,currentStep:Math.max(e.currentStep-1,0)};case"SET_STEP":return{...e,currentStep:Math.max(0,Math.min(t.step,e.totalSteps-1))};case"UPDATE_SCORE":return{...e,currentScore:t.score,categoryScores:t.categoryScores};case"COMPLETE_ASSESSMENT":return{...e,isComplete:!0};case"RESET_ASSESSMENT":return{...o,questions:e.questions,totalSteps:e.questions.length};case"SET_LOADING":return{...e,loading:t.loading};case"SET_ERROR":return{...e,error:t.error};default:return e}}let i=(0,n.createContext)(void 0);function l({children:e}){let[t,r]=(0,n.useReducer)(a,o),l=()=>{let e=Object.entries(t.responses).map(([e,r])=>{let s=t.questions.find(t=>t.id===e);return s?{category:s.category,criterionId:s.id,criterionName:s.question,responseValue:r,responseType:s.type,pointsEarned:function(e,t){switch(e.type){case"boolean":return!0===t?100:0;case"select":return({Excellent:100,"Very Good":85,Good:70,Fair:55,Poor:25,Yes:100,No:0,Corporation:100,LLC:85,Partnership:60,"Sole Proprietorship":40})[t]||0;case"number":if(e.id.includes("revenue")){let e=parseFloat(t)||0;if(e>=1e6)return 100;if(e>=5e5)return 85;if(e>=25e4)return 70;if(e>=1e5)return 55;if(e>=5e4)return 40;return 25}if(e.id.includes("years")||e.id.includes("time")){let e=parseFloat(t)||0;if(e>=5)return 100;if(e>=3)return 80;if(e>=2)return 60;if(e>=1)return 40;return 20}return t>0?75:0;case"text":return t&&t.trim()?80:0;default:return 0}}(s,r),pointsPossible:100,weightFactor:s.weight,isCritical:s.isCritical}:null}).filter(Boolean),s=e.reduce((e,t)=>e+t.pointsEarned,0),n=100*e.length,o={};Object.entries(e.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{})).forEach(([e,t])=>{let r=t.reduce((e,t)=>e+t.pointsEarned,0),s=100*t.length;o[e]=s>0?r/s*100:0}),r({type:"UPDATE_SCORE",score:Math.round(n>0?s/n*100:0),categoryScores:o})},u=async()=>{try{r({type:"SET_LOADING",loading:!0}),r({type:"COMPLETE_ASSESSMENT"}),r({type:"SET_LOADING",loading:!1})}catch(e){r({type:"SET_ERROR",error:e instanceof Error?e.message:"Unknown error"}),r({type:"SET_LOADING",loading:!1})}},d=async()=>{try{console.log("\uD83D\uDCBE Saving assessment and updating dashboard..."),r({type:"SET_LOADING",loading:!0});let e={responses:t.responses,currentScore:t.currentScore,categoryScores:t.categoryScores,completedAt:new Date().toISOString(),questions:t.questions};localStorage.setItem("lastAssessmentResults",JSON.stringify(e)),console.log("✅ Saved to localStorage");try{let e=await fetch("/api/fundability/save-assessment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:t.responses,currentScore:t.currentScore,categoryScores:t.categoryScores})});if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let r=await e.json();if(r.success)r.fallback?console.log("⚠️ Fallback save:",r.message):(console.log("✅ Database save successful:",r.message),r.data?.userId&&localStorage.setItem("demoUserId",r.data.userId));else throw Error(r.error||"Save failed")}catch(e){console.warn("⚠️ API call failed, but localStorage saved:",e)}return window.dispatchEvent(new CustomEvent("dashboardRefresh")),window.dispatchEvent(new StorageEvent("storage",{key:"lastAssessmentResults",newValue:JSON.stringify(e)})),r({type:"SET_LOADING",loading:!1}),!0}catch(e){return console.error("❌ Critical error in save process:",e),r({type:"SET_LOADING",loading:!1}),!1}};return s.jsx(i.Provider,{value:{state:t,dispatch:r,setResponse:(e,t)=>{r({type:"SET_RESPONSE",questionId:e,value:t}),setTimeout(()=>l(),100)},nextStep:()=>{r({type:"NEXT_STEP"})},prevStep:()=>{r({type:"PREV_STEP"})},goToStep:e=>{r({type:"SET_STEP",step:e})},calculateScore:l,completeAssessment:u,resetAssessment:()=>{r({type:"RESET_ASSESSMENT"})},saveAndUpdateDashboard:d,getReportData:()=>({responses:t.responses,currentScore:t.currentScore,categoryScores:t.categoryScores,questions:t.questions,completedQuestions:Object.keys(t.responses).length})},children:e})}function u(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAssessment must be used within an AssessmentProvider");return e}},15495:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u,metadata:()=>l});var s=r(19510),n=r(25384),o=r.n(n);r(5023);let a=(0,r(68570).createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\app\providers.tsx#default`);var i=r(14886);let l={title:"YBW Funds Platform",description:"Business Credit & Funding Platform"};function u({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:o().className,children:s.jsx(a,{children:(0,s.jsxs)(i.g,{children:["  ",e]})})})})}},58435:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\app\onboarding\page.tsx#default`)},14886:(e,t,r)=>{"use strict";r.d(t,{g:()=>n});var s=r(68570);let n=(0,s.createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\contexts\AssessmentContext.tsx#AssessmentProvider`);(0,s.createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\contexts\AssessmentContext.tsx#useAssessment`)},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,819],()=>r(89133));module.exports=s})();