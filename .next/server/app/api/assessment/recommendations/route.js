"use strict";(()=>{var e={};e.id=16,e.ids=[16],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},78893:e=>{e.exports=require("buffer")},84770:e=>{e.exports=require("crypto")},17702:e=>{e.exports=require("events")},32615:e=>{e.exports=require("http")},35240:e=>{e.exports=require("https")},98216:e=>{e.exports=require("net")},68621:e=>{e.exports=require("punycode")},76162:e=>{e.exports=require("stream")},82452:e=>{e.exports=require("tls")},17360:e=>{e.exports=require("url")},71568:e=>{e.exports=require("zlib")},77395:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>q,requestAsyncStorage:()=>c,routeModule:()=>m,serverHooks:()=>x,staticGenerationAsyncStorage:()=>l});var s={};t.r(s),t.d(s,{POST:()=>d});var n=t(49303),a=t(88716),o=t(60670),i=t(87070),u=t(57559),p=t(1926);async function d(e){try{let{userId:r,assessmentId:t}=await e.json();if(!r||!t)return i.NextResponse.json({error:"User ID and Assessment ID are required"},{status:400});let{data:s,error:n}=await p.O.from("advanced_fundability_assessments").select(`
        *,
        category_performances (*)
      `).eq("id",t).eq("user_id",r).single();if(n||!s)return i.NextResponse.json({error:"Assessment not found"},{status:404});let a={userId:r,businessType:s.metadata?.businessType||"general",industry:s.metadata?.industry||"general",yearsInBusiness:2,annualRevenue:1e5,completedCriteria:[],responses:{}},o=await u.Dc.calculateFundabilityScore(a);return i.NextResponse.json({success:!0,recommendations:o.recommendations,improvementPotential:o.improvementPotential,fundabilityGrade:o.fundabilityGrade})}catch(e){return console.error("Error generating recommendations:",e),i.NextResponse.json({error:"Failed to generate recommendations"},{status:500})}}let m=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/assessment/recommendations/route",pathname:"/api/assessment/recommendations",filename:"route",bundlePath:"app/api/assessment/recommendations/route"},resolvedPagePath:"C:\\Users\\dondr\\ybw-funds-platform\\ybw-funds-platform\\src\\app\\api\\assessment\\recommendations\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:l,serverHooks:x}=m,f="/api/assessment/recommendations/route";function q(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:l})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,972,438,331],()=>t(77395));module.exports=s})();