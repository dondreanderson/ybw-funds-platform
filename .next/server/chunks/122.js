exports.id=122,exports.ids=[122],exports.modules={73143:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},14464:(e,s,t)=>{Promise.resolve().then(t.bind(t,42126)),Promise.resolve().then(t.bind(t,27345))},95644:(e,s,t)=>{Promise.resolve().then(t.bind(t,27345))},35047:(e,s,t)=>{"use strict";var r=t(77389);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},42126:(e,s,t)=>{"use strict";t.d(s,{default:()=>a});var r=t(10326),n=t(77109),o=t(27345);function a({children:e}){return r.jsx(n.SessionProvider,{children:r.jsx(o.AssessmentProvider,{children:e})})}},25763:(e,s,t)=>{"use strict";t.d(s,{u:()=>o});var r=t(10326);t(17577);var n=t(35047);function o({score:e,categoryScores:s,recommendations:t,onClose:o,onSaveAndExit:a}){let i=(0,n.useRouter)(),l=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":e>=40?"text-orange-600":"text-red-600",c=(()=>{let e=[];return Object.entries(s).forEach(([s,t])=>{if(t<70)switch(s){case"Business Foundation":e.push("Strengthen your business foundation with proper registration and licensing");break;case"Banking & Finance":e.push("Improve financial documentation and banking relationships");break;case"Business Credit Profile":e.push("Focus on building business credit history and monitoring");break;case"Marketing Presence":e.push("Enhance your digital presence and marketing materials");break;case"Documentation":e.push("Update and organize essential business documents")}}),e.length>0?e:["Continue maintaining excellent business practices!"]})();return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-6 rounded-t-lg",children:[r.jsx("h2",{className:"text-3xl font-bold mb-2",children:"\uD83C\uDF89 Assessment Complete!"}),r.jsx("p",{className:"text-blue-100",children:"Your comprehensive fundability analysis is ready"})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("div",{className:"relative inline-flex items-center justify-center w-32 h-32 mb-4",children:[(0,r.jsxs)("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:[r.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"#e5e7eb",strokeWidth:"8",fill:"transparent"}),r.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:e>=80?"#10b981":e>=60?"#f59e0b":"#ef4444",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2.51*e} 251`,strokeLinecap:"round",className:"transition-all duration-1000"})]}),(0,r.jsxs)("div",{className:"absolute flex flex-col items-center",children:[r.jsx("span",{className:"text-4xl font-bold text-gray-900",children:e}),r.jsx("span",{className:"text-sm text-gray-600",children:"out of 100"})]})]}),r.jsx("h3",{className:`text-2xl font-bold ${l(e)} mb-2`,children:e>=90?"A - Excellent":e>=80?"B - Good":e>=70?"C - Fair":e>=60?"D - Poor":"F - Very Poor"}),r.jsx("p",{className:"text-gray-600",children:"Your Fundability Score"})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-xl font-semibold mb-4",children:"Category Breakdown"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(s).map(([e,s])=>(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[r.jsx("span",{className:"font-medium text-gray-900",children:e}),r.jsx("span",{className:`font-bold ${l(s)}`,children:Math.round(s)})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-500 ${s>=80?"bg-green-500":s>=60?"bg-yellow-500":s>=40?"bg-orange-500":"bg-red-500"}`,style:{width:`${s}%`}})})]},e))})]}),(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h4",{className:"text-xl font-semibold mb-4",children:"\uD83D\uDCCB Recommended Actions"}),r.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:r.jsx("ul",{className:"space-y-2",children:c.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-blue-600 mr-2",children:"•"}),r.jsx("span",{className:"text-blue-800",children:e})]},s))})})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("button",{onClick:a,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Save & Go to Dashboard"}),r.jsx("button",{onClick:()=>window.print(),className:"flex-1 bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Download Report"}),r.jsx("button",{onClick:()=>i.push("/assessment"),className:"flex-1 bg-purple-600 text-white py-3 px-6 rounded-lg hover:bg-purple-700 transition-colors font-medium",children:"Take New Assessment"})]})]})]})})}},27345:(e,s,t)=>{"use strict";t.d(s,{AssessmentProvider:()=>l,Y:()=>c});var r=t(10326),n=t(17577);let o={currentStep:0,totalSteps:0,responses:{},currentScore:0,categoryScores:{},isComplete:!1,questions:[],loading:!1,error:null};function a(e,s){switch(s.type){case"INITIALIZE":return{...e,questions:s.questions,totalSteps:s.questions.length,currentStep:0,responses:{},currentScore:0,categoryScores:{},isComplete:!1};case"SET_RESPONSE":return{...e,responses:{...e.responses,[s.questionId]:s.value}};case"NEXT_STEP":return{...e,currentStep:Math.min(e.currentStep+1,e.totalSteps-1)};case"PREV_STEP":return{...e,currentStep:Math.max(e.currentStep-1,0)};case"SET_STEP":return{...e,currentStep:Math.max(0,Math.min(s.step,e.totalSteps-1))};case"UPDATE_SCORE":return{...e,currentScore:s.score,categoryScores:s.categoryScores};case"COMPLETE_ASSESSMENT":return{...e,isComplete:!0};case"RESET_ASSESSMENT":return{...o,questions:e.questions,totalSteps:e.questions.length};case"SET_LOADING":return{...e,loading:s.loading};case"SET_ERROR":return{...e,error:s.error};default:return e}}let i=(0,n.createContext)(void 0);function l({children:e}){let[s,t]=(0,n.useReducer)(a,o),l=()=>{let e=Object.entries(s.responses).map(([e,t])=>{let r=s.questions.find(s=>s.id===e);return r?{category:r.category,criterionId:r.id,criterionName:r.question,responseValue:t,responseType:r.type,pointsEarned:function(e,s){switch(e.type){case"boolean":return!0===s?100:0;case"select":return({Excellent:100,"Very Good":85,Good:70,Fair:55,Poor:25,Yes:100,No:0,Corporation:100,LLC:85,Partnership:60,"Sole Proprietorship":40})[s]||0;case"number":if(e.id.includes("revenue")){let e=parseFloat(s)||0;if(e>=1e6)return 100;if(e>=5e5)return 85;if(e>=25e4)return 70;if(e>=1e5)return 55;if(e>=5e4)return 40;return 25}if(e.id.includes("years")||e.id.includes("time")){let e=parseFloat(s)||0;if(e>=5)return 100;if(e>=3)return 80;if(e>=2)return 60;if(e>=1)return 40;return 20}return s>0?75:0;case"text":return s&&s.trim()?80:0;default:return 0}}(r,t),pointsPossible:100,weightFactor:r.weight,isCritical:r.isCritical}:null}).filter(Boolean),r=e.reduce((e,s)=>e+s.pointsEarned,0),n=100*e.length,o={};Object.entries(e.reduce((e,s)=>(e[s.category]||(e[s.category]=[]),e[s.category].push(s),e),{})).forEach(([e,s])=>{let t=s.reduce((e,s)=>e+s.pointsEarned,0),r=100*s.length;o[e]=r>0?t/r*100:0}),t({type:"UPDATE_SCORE",score:Math.round(n>0?r/n*100:0),categoryScores:o})},c=async()=>{try{t({type:"SET_LOADING",loading:!0}),t({type:"COMPLETE_ASSESSMENT"}),t({type:"SET_LOADING",loading:!1})}catch(e){t({type:"SET_ERROR",error:e instanceof Error?e.message:"Unknown error"}),t({type:"SET_LOADING",loading:!1})}},d=async()=>{try{console.log("\uD83D\uDCBE Saving assessment and updating dashboard..."),t({type:"SET_LOADING",loading:!0});let e={responses:s.responses,currentScore:s.currentScore,categoryScores:s.categoryScores,completedAt:new Date().toISOString(),questions:s.questions};localStorage.setItem("lastAssessmentResults",JSON.stringify(e)),console.log("✅ Saved to localStorage");try{let e=await fetch("/api/fundability/save-assessment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({responses:s.responses,currentScore:s.currentScore,categoryScores:s.categoryScores})});if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let t=await e.json();if(t.success)t.fallback?console.log("⚠️ Fallback save:",t.message):(console.log("✅ Database save successful:",t.message),t.data?.userId&&localStorage.setItem("demoUserId",t.data.userId));else throw Error(t.error||"Save failed")}catch(e){console.warn("⚠️ API call failed, but localStorage saved:",e)}return window.dispatchEvent(new CustomEvent("dashboardRefresh")),window.dispatchEvent(new StorageEvent("storage",{key:"lastAssessmentResults",newValue:JSON.stringify(e)})),t({type:"SET_LOADING",loading:!1}),!0}catch(e){return console.error("❌ Critical error in save process:",e),t({type:"SET_LOADING",loading:!1}),!1}};return r.jsx(i.Provider,{value:{state:s,dispatch:t,setResponse:(e,s)=>{t({type:"SET_RESPONSE",questionId:e,value:s}),setTimeout(()=>l(),100)},nextStep:()=>{t({type:"NEXT_STEP"})},prevStep:()=>{t({type:"PREV_STEP"})},goToStep:e=>{t({type:"SET_STEP",step:e})},calculateScore:l,completeAssessment:c,resetAssessment:()=>{t({type:"RESET_ASSESSMENT"})},saveAndUpdateDashboard:d,getReportData:()=>({responses:s.responses,currentScore:s.currentScore,categoryScores:s.categoryScores,questions:s.questions,completedQuestions:Object.keys(s.responses).length})},children:e})}function c(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAssessment must be used within an AssessmentProvider");return e}},64262:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(19510),n=t(14886);function o({children:e}){return r.jsx(n.g,{children:e})}},15495:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,metadata:()=>l});var r=t(19510),n=t(25384),o=t.n(n);t(5023);let a=(0,t(68570).createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\app\providers.tsx#default`);var i=t(14886);let l={title:"YBW Funds Platform",description:"Business Credit & Funding Platform"};function c({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:o().className,children:r.jsx(a,{children:(0,r.jsxs)(i.g,{children:["  ",e]})})})})}},14886:(e,s,t)=>{"use strict";t.d(s,{g:()=>n});var r=t(68570);let n=(0,r.createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\contexts\AssessmentContext.tsx#AssessmentProvider`);(0,r.createProxy)(String.raw`C:\Users\dondr\ybw-funds-platform\ybw-funds-platform\src\contexts\AssessmentContext.tsx#useAssessment`)},5023:()=>{}};